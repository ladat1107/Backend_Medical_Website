
import db from "../models/index";

let data = {
    "type": "div",
    "content": [
      "\n    \n    ",
      {
        "type": "div",
        "content": [
          " ",
          {
            "type": "h2",
            "content": [
              " CHƯƠNG XI ",
              {
                "type": "br"
              },
              " BỆNH HỆ TIÊU HOÁ (K00-K93) "
            ]
          },
          "\n    "
        ],
        "attributes": {
          "class": "chapter"
        }
      },
      "\n    \n    \n    \n    \n    \n    \n    ",
      {
        "type": "p",
        "content": [
          "Chương này chứa:"
        ]
      },
      "\n    ",
      {
        "type": "ul",
        "content": [
          "\n    ",
          {
            "type": "li",
            "content": [
              "\n        ",
              {
                "type": "a",
                "content": [
                  "K00-K14"
                ],
                "attributes": {
                  "href": "section/K00-K14",
                  "title": "Bệnh của khoang miệng, tuyến nước bọt và xương hàm",
                  "class": "code-section"
                }
              },
              "\n        ",
              {
                "type": "span",
                "content": [
                  "Bệnh của khoang miệng, tuyến nước bọt và xương hàm"
                ],
                "attributes": {
                  "class": "label"
                }
              },
              "\n        \n    "
            ],
            "attributes": {
              "class": ""
            }
          },
          "\n    \n    ",
          {
            "type": "li",
            "content": [
              "\n        ",
              {
                "type": "a",
                "content": [
                  "K20-K31"
                ],
                "attributes": {
                  "href": "section/K20-K31",
                  "title": "Bệnh của thực quản, dạ dày và tá tràng",
                  "class": "code-section"
                }
              },
              "\n        ",
              {
                "type": "span",
                "content": [
                  "Bệnh của thực quản, dạ dày và tá tràng"
                ],
                "attributes": {
                  "class": "label"
                }
              },
              "\n        \n    "
            ],
            "attributes": {
              "class": ""
            }
          },
          "\n    \n    ",
          {
            "type": "li",
            "content": [
              "\n        ",
              {
                "type": "a",
                "content": [
                  "K35-K38"
                ],
                "attributes": {
                  "href": "section/K35-K38",
                  "title": "Bệnh ruột thừa",
                  "class": "code-section"
                }
              },
              "\n        ",
              {
                "type": "span",
                "content": [
                  "Bệnh ruột thừa"
                ],
                "attributes": {
                  "class": "label"
                }
              },
              "\n        \n    "
            ],
            "attributes": {
              "class": ""
            }
          },
          "\n    \n    ",
          {
            "type": "li",
            "content": [
              "\n        ",
              {
                "type": "a",
                "content": [
                  "K40-K46"
                ],
                "attributes": {
                  "href": "section/K40-K46",
                  "title": "Thoát vị",
                  "class": "code-section"
                }
              },
              "\n        ",
              {
                "type": "span",
                "content": [
                  "Thoát vị"
                ],
                "attributes": {
                  "class": "label"
                }
              },
              "\n        \n    "
            ],
            "attributes": {
              "class": ""
            }
          },
          "\n    \n    ",
          {
            "type": "li",
            "content": [
              "\n        ",
              {
                "type": "a",
                "content": [
                  "K50-K52"
                ],
                "attributes": {
                  "href": "section/K50-K52",
                  "title": "Viêm ruột non và đại tràng không do nhiễm trùng",
                  "class": "code-section"
                }
              },
              "\n        ",
              {
                "type": "span",
                "content": [
                  "Viêm ruột non và đại tràng không do nhiễm trùng"
                ],
                "attributes": {
                  "class": "label"
                }
              },
              "\n        \n    "
            ],
            "attributes": {
              "class": ""
            }
          },
          "\n    \n    ",
          {
            "type": "li",
            "content": [
              "\n        ",
              {
                "type": "a",
                "content": [
                  "K55-K64"
                ],
                "attributes": {
                  "href": "section/K55-K64",
                  "title": "Bệnh đường ruột khác",
                  "class": "code-section"
                }
              },
              "\n        ",
              {
                "type": "span",
                "content": [
                  "Bệnh đường ruột khác"
                ],
                "attributes": {
                  "class": "label"
                }
              },
              "\n        \n    "
            ],
            "attributes": {
              "class": ""
            }
          },
          "\n    \n    ",
          {
            "type": "li",
            "content": [
              "\n        ",
              {
                "type": "a",
                "content": [
                  "K65-K67"
                ],
                "attributes": {
                  "href": "section/K65-K67",
                  "title": "Bệnh của phúc mạc",
                  "class": "code-section"
                }
              },
              "\n        ",
              {
                "type": "span",
                "content": [
                  "Bệnh của phúc mạc"
                ],
                "attributes": {
                  "class": "label"
                }
              },
              "\n        \n    "
            ],
            "attributes": {
              "class": ""
            }
          },
          "\n    \n    ",
          {
            "type": "li",
            "content": [
              "\n        ",
              {
                "type": "a",
                "content": [
                  "K70-K77"
                ],
                "attributes": {
                  "href": "section/K70-K77",
                  "title": "Bệnh của gan",
                  "class": "code-section"
                }
              },
              "\n        ",
              {
                "type": "span",
                "content": [
                  "Bệnh của gan"
                ],
                "attributes": {
                  "class": "label"
                }
              },
              "\n        \n    "
            ],
            "attributes": {
              "class": ""
            }
          },
          "\n    \n    ",
          {
            "type": "li",
            "content": [
              "\n        ",
              {
                "type": "a",
                "content": [
                  "K80-K87"
                ],
                "attributes": {
                  "href": "section/K80-K87",
                  "title": "Bệnh túi mật, ống mật và tuỵ",
                  "class": "code-section"
                }
              },
              "\n        ",
              {
                "type": "span",
                "content": [
                  "Bệnh túi mật, ống mật và tuỵ"
                ],
                "attributes": {
                  "class": "label"
                }
              },
              "\n        \n    "
            ],
            "attributes": {
              "class": ""
            }
          },
          "\n    \n    ",
          {
            "type": "li",
            "content": [
              "\n        ",
              {
                "type": "a",
                "content": [
                  "K90-K93"
                ],
                "attributes": {
                  "href": "section/K90-K93",
                  "title": "Bệnh khác của hệ tiêu hoá",
                  "class": "code-section"
                }
              },
              "\n        ",
              {
                "type": "span",
                "content": [
                  "Bệnh khác của hệ tiêu hoá"
                ],
                "attributes": {
                  "class": "label"
                }
              },
              "\n        \n    "
            ],
            "attributes": {
              "class": ""
            }
          },
          "\n    "
        ]
      },
      "\n    \n    \n    ",
      {
        "type": "h4",
        "content": [
          {
            "type": "strong",
            "content": [
              "Các mã dấu sao (*) trong chương:"
            ]
          }
        ]
      },
      "\n",
      {
        "type": "ul",
        "content": [
          "\n",
          {
            "type": "li",
            "content": [
              "\n",
              {
                "type": "p",
                "content": [
                  {
                    "type": "a",
                    "content": [
                      "K23*"
                    ],
                    "attributes": {
                      "href": "disease/K23"
                    }
                  },
                  " Rối loạn của thực quản trong bệnh phân loại nơi khác "
                ]
              },
              "\n"
            ]
          },
          "\n",
          {
            "type": "li",
            "content": [
              "\n",
              {
                "type": "p",
                "content": [
                  {
                    "type": "a",
                    "content": [
                      "K67*"
                    ],
                    "attributes": {
                      "href": "disease/K67"
                    }
                  },
                  " Rối loạn của phúc mạc trong bệnh nhiễm trùng phân loại nơi khác "
                ]
              },
              "\n"
            ]
          },
          "\n",
          {
            "type": "li",
            "content": [
              "\n",
              {
                "type": "p",
                "content": [
                  {
                    "type": "a",
                    "content": [
                      "K77*"
                    ],
                    "attributes": {
                      "href": "disease/K77"
                    }
                  },
                  " Rối loạn của gan trong bệnh phân loại nơi khác  "
                ]
              },
              "\n"
            ]
          },
          "\n",
          {
            "type": "li",
            "content": [
              "\n",
              {
                "type": "p",
                "content": [
                  {
                    "type": "a",
                    "content": [
                      "K87*"
                    ],
                    "attributes": {
                      "href": "disease/K87"
                    }
                  },
                  " Rối loạn của túi mật, đường mật và tụy trong bệnh phân loại nơi khác "
                ]
              },
              "\n"
            ]
          },
          "\n",
          {
            "type": "li",
            "content": [
              "\n",
              {
                "type": "p",
                "content": [
                  {
                    "type": "a",
                    "content": [
                      "K93*"
                    ],
                    "attributes": {
                      "href": "disease/K93"
                    }
                  },
                  " Rối loạn của cơ quan tiêu hoá khác trong bệnh phân loại nơi khác  "
                ]
              },
              "\n"
            ]
          },
          "\n"
        ]
      },
      "\n    \n    \n    \n        ",
      {
        "type": "dt",
        "content": [
          "\n            Loại trừ:\n        "
        ]
      },
      "\n        ",
      {
        "type": "ul",
        "content": [
          {
            "type": "li",
            "content": [
              "một số bệnh lý khởi phát từ thời kỳ chu sinh (",
              {
                "type": "a",
                "content": [
                  "P00"
                ],
                "attributes": {
                  "href": "type/P00"
                }
              },
              "-",
              {
                "type": "a",
                "content": [
                  "P96"
                ],
                "attributes": {
                  "href": "type/P96"
                }
              },
              ")"
            ]
          },
          {
            "type": "li",
            "content": [
              "một số bệnh nhiễm trùng và ký sinh trùng (",
              {
                "type": "a",
                "content": [
                  "A00"
                ],
                "attributes": {
                  "href": "type/A00"
                }
              },
              "-",
              {
                "type": "a",
                "content": [
                  "B99"
                ],
                "attributes": {
                  "href": "type/B99"
                }
              },
              ")"
            ]
          },
          {
            "type": "li",
            "content": [
              "các biến chứng trong thời kỳ mang thai, lúc sinh đẻ và thời kỳ hậu sản (",
              {
                "type": "a",
                "content": [
                  "O00"
                ],
                "attributes": {
                  "href": "type/O00"
                }
              },
              "-",
              {
                "type": "a",
                "content": [
                  "O99"
                ],
                "attributes": {
                  "href": "type/O99"
                }
              },
              ")"
            ]
          },
          {
            "type": "li",
            "content": [
              "các dị tật, dị dạng bẩm sinh và bất thường nhiễm sắc thể (",
              {
                "type": "a",
                "content": [
                  "Q00"
                ],
                "attributes": {
                  "href": "type/Q00"
                }
              },
              "-",
              {
                "type": "a",
                "content": [
                  "Q99"
                ],
                "attributes": {
                  "href": "type/Q99"
                }
              },
              ")"
            ]
          },
          {
            "type": "li",
            "content": [
              "các bệnh nội tiết, dinh dưỡng và chuyển hoá (",
              {
                "type": "a",
                "content": [
                  "E00"
                ],
                "attributes": {
                  "href": "type/E00"
                }
              },
              "-E90)"
            ]
          },
          {
            "type": "li",
            "content": [
              "chấn thương, ngộ độc và một số hậu quả khác do nguyên nhân ngoại sinh (",
              {
                "type": "a",
                "content": [
                  "S00"
                ],
                "attributes": {
                  "href": "type/S00"
                }
              },
              "-",
              {
                "type": "a",
                "content": [
                  "T98"
                ],
                "attributes": {
                  "href": "type/T98"
                }
              },
              ")"
            ]
          },
          {
            "type": "li",
            "content": [
              "u tân sinh (",
              {
                "type": "a",
                "content": [
                  "C00"
                ],
                "attributes": {
                  "href": "type/C00"
                }
              },
              "-",
              {
                "type": "a",
                "content": [
                  "D48"
                ],
                "attributes": {
                  "href": "type/D48"
                }
              },
              ")"
            ]
          },
          {
            "type": "li",
            "content": [
              "triệu chứng cơ năng, thực thể, và bất thường về lâm sàng và cận lâm sàng, không phân loại nơi khác (",
              {
                "type": "a",
                "content": [
                  "R00"
                ],
                "attributes": {
                  "href": "type/R00"
                }
              },
              "-",
              {
                "type": "a",
                "content": [
                  "R99"
                ],
                "attributes": {
                  "href": "type/R99"
                }
              },
              ")"
            ]
          }
        ]
      },
      "\n        \n    \n    \n    \n"
    ],
    "attributes": {
      "class": "block-chapter"
    }
  }

  const extractValues = (data) => {
    const results = [];
  
    if (data.type === 'ul') {
      data.content.forEach((li) => {
        if (li.type === 'li') {
          const code = li.content.find((item) => item.type === 'a').content[0];
          const title = li.content.find((item) => item.type === 'span').content[0];
          results.push({ code, title });
        }
      });
    }
  
    return results;
  };
  let customData = [];
  const sections = extractValues(data.content[5]);
  sections.forEach(section => {

    let obj = {
        chapterId: 11,
        groupCode: section.code,
        groupName: section.title,
        status: 1
    }
    customData.push(obj);
  });
  
const insertGroup = async () => {
    try {
       console.log("check data: ", customData);
        let user = await db.DiseaseGroup.bulkCreate(customData);
        if (user) {
            console.log("Insert Medicine Success");
        }
        else console.log("Insert Medicine Fail");
    } catch (error) {
        console.log(error);
        console.log("Error from server");
    }
}
module.exports = {
    insertGroup
}